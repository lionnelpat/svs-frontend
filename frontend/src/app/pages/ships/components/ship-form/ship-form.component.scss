.ship-form {
    .form-section {
        margin-bottom: 1.5rem;
    }

    .section-title {
        color: var(--svs-primary);
        font-size: 1.1rem;
        font-weight: 600;
        margin-bottom: 1rem;
        display: flex;
        align-items: center;
    }

    .field-label {
        display: block;
        font-weight: 500;
        margin-bottom: 0.5rem;
        color: var(--svs-text);
    }

    .required {
        color: #ef4444;
    }

    .field-error {
        color: #ef4444;
        display: block;
        margin-top: 0.25rem;
        font-size: 0.875rem;
    }

    .field-info {
        color: var(--svs-accent);
        display: block;
        margin-top: 0.25rem;
        font-size: 0.875rem;
    }

    .imo-input,
    .mmsi-input,
    .call-sign-input {
        font-family: 'Courier New', monospace;
        text-transform: uppercase;
    }

    .form-actions {
        display: flex;
        justify-content: flex-end;
        margin-top: 2rem;
        padding-top: 1rem;
        border-top: 1px solid var(--svs-surface-dark);
    }
}

// Corrections pour le modal et les dropdowns
:host ::ng-deep {
    // Validation states
    .ng-invalid.ng-touched {
        border-color: #ef4444 !important;
    }

    .p-dropdown.ng-invalid.ng-touched {
        .p-dropdown-label {
            border-color: #ef4444 !important;
        }
    }

    .p-inputnumber.ng-invalid.ng-touched {
        .p-inputtext {
            border-color: #ef4444 !important;
        }
    }

    .p-button:disabled {
        opacity: 0.6;
    }

    // Corrections pour les dropdowns dans les modals
    .p-dropdown {
        // Assurer que le dropdown a une largeur correcte
        width: 100%;

        // Configuration du panel dropdown
        &-panel {
            // Z-index élevé pour être au-dessus du modal
            z-index: 9999 !important;

            // Position et dimensions
            min-width: 100%;
            max-height: 200px;
            overflow-y: auto;

            // Assurer que le panel est visible
            position: absolute !important;

            // Style pour le panel
            border: 1px solid var(--surface-300);
            border-radius: 6px;
            background: var(--surface-0);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        // Style pour les items du dropdown
        &-items {
            .p-dropdown-item {
                padding: 0.75rem;
                cursor: pointer;

                &:hover {
                    background: var(--surface-100);
                }

                &.p-highlight {
                    background: var(--primary-color);
                    color: var(--primary-color-text);
                }
            }
        }

        // Style pour le filtre
        &-filter-container {
            padding: 0.5rem;
            border-bottom: 1px solid var(--surface-200);

            .p-dropdown-filter {
                width: 100%;
                padding: 0.5rem;
                border: 1px solid var(--surface-300);
                border-radius: 4px;
            }
        }
    }

    // Configuration spécifique pour le modal
    .p-dialog {
        // Assurer que le contenu du modal ne coupe pas les dropdowns
        .p-dialog-content {
            overflow: visible !important;
            padding: 1.5rem;
        }

        // Z-index du modal
        z-index: 1000;

        // Assurer que le modal mask n'interfère pas
        .p-dialog-mask {
            z-index: 999;
        }
    }

    // Configuration pour le Overlay de PrimeNG
    .p-overlaypanel {
        z-index: 9999 !important;
    }

    // Configuration spécifique pour les dropdowns avec appendTo="body"
    .p-dropdown-panel {
        z-index: 9999 !important;
    }
}

// Corrections additionnelles pour le responsive
@media (max-width: 768px) {
    .ship-form {
        .form-actions {
            flex-direction: column;
            gap: 0.5rem;

            .p-button {
                width: 100%;
            }
        }
    }

    :host ::ng-deep {
        .p-dropdown-panel {
            max-height: 150px !important;
            width: 90vw !important;
            max-width: none !important;
        }
    }
}
