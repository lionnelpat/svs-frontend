<div class="grid">
    <div class="col-12">
        <div class="card">
            <!-- Header -->
            <div class="card mb-5">
                <div class="flex flex-col lg:flex-row lg:justify-between lg:align-middle">
                    <div class="mb-3 lg:mb-0">
                        <div class="flex align-items-center mb-2">
                            <i class="pi pi-cog text-blue-600 text-2xl mr-3"></i>
                            <h1 class="text-2xl font-semibold text-blue-900 m-0">Gestion des Méthodes de paiement</h1>
                        </div>
                        <p class="text-600 m-0 line-height-3">
                            Suivi et gestion des méthodes de paiement
                        </p>
                    </div>

                    <!-- Actions principales -->
                    <div class="flex flex-col sm:flex-row">
                        <p-button
                            label="Ajouter"
                            icon="pi pi-plus"
                            class="p-button-primary"
                            (click)="openCreateDialog()"
                        ></p-button>
                    </div>
                </div>
            </div>

            <!-- Liste des méthodes de paiement -->
            <app-payment-method-list
                (paymentMethodEvent)="handlePaymentMethodEvent($event)">
            </app-payment-method-list>
        </div>
    </div>
</div>

<!-- Dialog de formulaire -->
<app-payment-method-form
    [visible]="showFormDialog"
    [mode]="formMode"
    [paymentMethod]="selectedPaymentMethod"
    (visibleChange)="onDialogVisibilityChange($event)"
    (paymentMethodSave)="onPaymentMethodSave($event)"
    (cancel)="onFormCancel()">
</app-payment-method-form>

<!-- Toast pour les notifications -->
<p-toast position="top-right" [life]="5000"></p-toast>

<!-- Dialog de confirmation -->
<p-confirmDialog
    [breakpoints]="{'960px': '75vw', '640px': '90vw'}"
    [style]="{width: '50vw'}">
</p-confirmDialog>
