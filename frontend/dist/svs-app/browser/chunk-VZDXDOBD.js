import{l as n,m as u,n as c}from"./chunk-Y5JEGQKB.js";import{b as o,e as b}from"./chunk-ZXANPB2F.js";import{M as i,P as m,U as p,g as y,k as d,n as s,w as g}from"./chunk-TX7UWVJS.js";import{a as h,b as l}from"./chunk-EQDQRRRY.js";var S=class a{constructor(e,t,r){this.http=e;this.logger=t;this.errorHandler=r}baseUrl=`${n.apiBaseUrl}/${n.apiVersion}/expense-categories`;categoriesSubject=new y([]);loadingSubject=new y(!1);totalSubject=new y(0);getCategories(e={}){let t=new o;return e.search&&(t=t.set("query",e.search)),e.active!==void 0&&(t=t.set("active",e.active.toString())),e.page!==void 0&&(t=t.set("page",e.page.toString())),e.size!==void 0&&(t=t.set("size",e.size.toString())),e.sortBy&&(t=t.set("sort",e.sortBy)),e.sortDirection&&(t=t.set("direction",e.sortDirection)),this.loadingSubject.next(!0),this.http.get(`${this.baseUrl}`,{params:t}).pipe(g(r=>this.handleError(r,"Chargement des cat\xE9gories")))}getActiveCategories(){return this.http.get(`${this.baseUrl}/active`).pipe(s(e=>e.data))}getCategoryById(e){return this.http.get(`${this.baseUrl}/${e}`).pipe(s(t=>t.data))}getCategoryByCode(e){return this.http.get(`${this.baseUrl}/code/${e}`).pipe(s(t=>t.data))}createCategory(e){return this.http.post(this.baseUrl,e).pipe(s(t=>t.data),i(()=>this.refreshCategories()))}updateCategory(e,t){return this.http.put(`${this.baseUrl}/${e}`,t).pipe(s(r=>r.data),i(()=>this.refreshCategories()))}deleteCategory(e){return this.http.delete(`${this.baseUrl}/${e}`).pipe(s(()=>{}),i(()=>this.refreshCategories()))}permanentDeleteCategory(e){return this.http.delete(`${this.baseUrl}/${e}/permanent`).pipe(s(()=>{}),i(()=>this.refreshCategories()))}restoreCategory(e){return this.http.patch(`${this.baseUrl}/${e}/restore`,{}).pipe(s(t=>t.data),i(()=>this.refreshCategories()))}searchCategories(e,t={}){return this.getCategories(l(h({},t),{search:e}))}toggleCategoryStatus(e){return this.http.patch(`${this.baseUrl}/${e}/toggle-status`,{}).pipe(s(t=>t.data),i(()=>this.refreshCategories()))}checkCategoryExists(e,t){let r=new o;return e&&(r=r.set("nom",e)),t&&(r=r.set("code",t)),this.http.get(`${this.baseUrl}/exists`,{params:r}).pipe(s(v=>v.data))}getCategoryStats(){return this.http.get(`${this.baseUrl}/stats`).pipe(s(e=>e.data))}refreshCategories(){this.getCategories({page:0,size:20}).subscribe()}clearCache(){this.categoriesSubject.next([]),this.totalSubject.next(0)}handleError(e,t){let r=e?.error?.message||e.message||"Erreur inconnue";return this.logger.error(`${t} - ${r}`,e),this.errorHandler.handleError(e),d(()=>new Error(r))}static \u0275fac=function(t){return new(t||a)(p(b),p(u),p(c))};static \u0275prov=m({token:a,factory:a.\u0275fac,providedIn:"root"})};var $=class a{constructor(e,t,r){this.http=e;this.logger=t;this.errorHandler=r}baseUrl=`${n.apiBaseUrl}/${n.apiVersion}/expense-suppliers`;getSuppliers(e={}){let t=new o;return e.search&&(t=t.set("query",e.search)),e.active!==void 0&&(t=t.set("active",e.active.toString())),e.page!==void 0&&(t=t.set("page",e.page.toString())),e.size!==void 0&&(t=t.set("size",e.size.toString())),e.sortBy&&(t=t.set("sort",e.sortBy)),e.sortDirection&&(t=t.set("direction",e.sortDirection)),this.http.get(`${this.baseUrl}`,{params:t}).pipe(g(r=>this.handleError(r,"Chargement des fournisseurs")))}getActiveSuppliers(){return this.http.get(`${this.baseUrl}/active`).pipe(s(e=>e.data))}getSupplierById(e){return this.http.get(`${this.baseUrl}/${e}`).pipe(s(t=>t.data))}getSupplierByCode(e){return this.http.get(`${this.baseUrl}/code/${e}`).pipe(s(t=>t.data))}createSupplier(e){return this.http.post(this.baseUrl,e).pipe(s(t=>t.data),i(()=>this.refreshSuppliers()))}updateSupplier(e,t){return this.http.put(`${this.baseUrl}/${e}`,t).pipe(s(r=>r.data),i(()=>this.refreshSuppliers()))}deleteSupplier(e){return this.http.delete(`${this.baseUrl}/${e}`).pipe(s(()=>{}),i(()=>this.refreshSuppliers()))}permanentDeleteSupplier(e){return this.http.delete(`${this.baseUrl}/${e}/permanent`).pipe(s(()=>{}),i(()=>this.refreshSuppliers()))}restoreSupplier(e){return this.http.patch(`${this.baseUrl}/${e}/restore`,{}).pipe(s(t=>t.data),i(()=>this.refreshSuppliers()))}searchSuppliers(e,t={}){return this.getSuppliers(l(h({},t),{search:e}))}toggleSupplierStatus(e){return this.http.patch(`${this.baseUrl}/${e}/toggle-status`,{}).pipe(s(t=>t.data),i(()=>this.refreshSuppliers()))}checkSupplierExists(e,t){let r=new o;return e&&(r=r.set("nom",e)),t&&(r=r.set("code",t)),this.http.get(`${this.baseUrl}/exists`,{params:r}).pipe(s(v=>v.data))}getSupplierStats(){return this.http.get(`${this.baseUrl}/stats`).pipe(s(e=>e.data))}refreshSuppliers(){this.getSuppliers({page:0,size:20}).subscribe()}handleError(e,t){let r=e?.error?.message||e.message||"Erreur inconnue";return this.logger.error(`${t} - ${r}`,e),this.errorHandler.handleError(e),d(()=>new Error(r))}static \u0275fac=function(t){return new(t||a)(p(b),p(u),p(c))};static \u0275prov=m({token:a,factory:a.\u0275fac,providedIn:"root"})};var R=class a{constructor(e,t,r){this.http=e;this.logger=t;this.errorHandler=r}baseUrl=`${n.apiBaseUrl}/${n.apiVersion}/payment-methods`;getPaymentMethods(e={}){let t=new o;return e.page!==void 0&&(t=t.set("page",e.page.toString())),e.size!==void 0&&(t=t.set("size",e.size.toString())),e.sort&&(t=t.set("sort",e.sort)),e.direction&&(t=t.set("direction",e.direction)),e.query&&(t=t.set("search",e.query)),e.active!==void 0&&(t=t.set("active",e.active.toString())),this.http.get(`${this.baseUrl}`,{params:t}).pipe(g(r=>this.handleError(r,"Chargement des fournisseurs")))}getActivePaymentMethods(){return this.http.get(`${this.baseUrl}/active`).pipe(s(e=>e.data))}getPaymentMethodById(e){return this.http.get(`${this.baseUrl}/${e}`).pipe(s(t=>t.data))}getPaymentMethodByCode(e){return this.http.get(`${this.baseUrl}/code/${e}`).pipe(s(t=>t.data))}createPaymentMethod(e){return this.http.post(this.baseUrl,e).pipe(s(t=>t.data),i(()=>this.refreshPaymentMethods()))}updatePaymentMethod(e,t){return this.http.put(`${this.baseUrl}/${e}`,t).pipe(s(r=>r.data),i(()=>this.refreshPaymentMethods()))}deletePaymentMethod(e){return this.http.delete(`${this.baseUrl}/${e}`).pipe(s(()=>{}),i(()=>this.refreshPaymentMethods()))}permanentDeletePaymentMethod(e){return this.http.delete(`${this.baseUrl}/${e}`).pipe(s(()=>{}),i(()=>this.refreshPaymentMethods()))}restorePaymentMethod(e){return this.http.patch(`${this.baseUrl}/${e}/restore`,{}).pipe(s(t=>t.data),i(()=>this.refreshPaymentMethods()))}searchPaymentMethods(e,t={}){return this.getPaymentMethods(l(h({},t),{query:e}))}togglePaymentMethodStatus(e){return this.http.patch(`${this.baseUrl}/${e}/toggle-status`,{}).pipe(s(t=>t.data),i(()=>this.refreshPaymentMethods()))}checkPaymentMethodExists(e,t){let r=new o;return e&&(r=r.set("nom",e)),t&&(r=r.set("code",t)),this.http.get(`${this.baseUrl}/exists`,{params:r}).pipe(s(v=>v.data))}getPaymentMethodStats(){return this.http.get(`${this.baseUrl}/stats`).pipe(s(e=>e.data))}refreshPaymentMethods(){this.getPaymentMethods({page:0,size:20}).subscribe()}handleError(e,t){let r=e?.error?.message||e.message||"Erreur inconnue";return this.logger.error(`${t} - ${r}`,e),this.errorHandler.handleError(e),d(()=>new Error(r))}static \u0275fac=function(t){return new(t||a)(p(b),p(u),p(c))};static \u0275prov=m({token:a,factory:a.\u0275fac,providedIn:"root"})};export{S as a,$ as b,R as c};
